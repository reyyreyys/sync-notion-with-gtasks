{"level":"error","message":"Error fetching Notion tasks: this.notion.databases.query is not a function","service":"notion-google-tasks-sync","stack":"TypeError: this.notion.databases.query is not a function\n    at NotionService.getTasks (C:\\Users\\reyes\\Documents\\School\\Repositories\\sync-notion-with-gtasks\\src\\services\\notionService.js:16:52)\n    at SyncService.performFullSync (C:\\Users\\reyes\\Documents\\School\\Repositories\\sync-notion-with-gtasks\\src\\services\\syncService.js:33:23)\n    at Timeout._onTimeout (C:\\Users\\reyes\\Documents\\School\\Repositories\\sync-notion-with-gtasks\\server.js:83:25)\n    at listOnTimeout (node:internal/timers:594:17)\n    at process.processTimers (node:internal/timers:529:7)","timestamp":"2025-09-18T07:34:28.514Z"}
{"level":"error","message":"Full sync failed: this.notion.databases.query is not a function","service":"notion-google-tasks-sync","stack":"TypeError: this.notion.databases.query is not a function\n    at NotionService.getTasks (C:\\Users\\reyes\\Documents\\School\\Repositories\\sync-notion-with-gtasks\\src\\services\\notionService.js:16:52)\n    at SyncService.performFullSync (C:\\Users\\reyes\\Documents\\School\\Repositories\\sync-notion-with-gtasks\\src\\services\\syncService.js:33:23)\n    at Timeout._onTimeout (C:\\Users\\reyes\\Documents\\School\\Repositories\\sync-notion-with-gtasks\\server.js:83:25)\n    at listOnTimeout (node:internal/timers:594:17)\n    at process.processTimers (node:internal/timers:529:7)","timestamp":"2025-09-18T07:34:28.556Z"}
{"level":"error","message":"Initial sync failed: this.notion.databases.query is not a function","service":"notion-google-tasks-sync","stack":"TypeError: this.notion.databases.query is not a function\n    at NotionService.getTasks (C:\\Users\\reyes\\Documents\\School\\Repositories\\sync-notion-with-gtasks\\src\\services\\notionService.js:16:52)\n    at SyncService.performFullSync (C:\\Users\\reyes\\Documents\\School\\Repositories\\sync-notion-with-gtasks\\src\\services\\syncService.js:33:23)\n    at Timeout._onTimeout (C:\\Users\\reyes\\Documents\\School\\Repositories\\sync-notion-with-gtasks\\server.js:83:25)\n    at listOnTimeout (node:internal/timers:594:17)\n    at process.processTimers (node:internal/timers:529:7)","timestamp":"2025-09-18T07:34:28.556Z"}
{"code":403,"config":{"apiVersion":"","headers":{"Accept-Encoding":"gzip","Authorization":"<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.","User-Agent":"google-api-nodejs-client/7.2.0 (gzip)","x-goog-api-client":"gdcl/7.2.0 gl-node/22.11.0"},"method":"GET","params":{"maxResults":100,"showCompleted":true,"showDeleted":false},"responseType":"unknown","retry":true,"retryConfig":{"currentRetryAttempt":0,"httpMethodsToRetry":["GET","HEAD","PUT","OPTIONS","DELETE"],"maxRetryDelay":9007199254740991,"noResponseRetries":2,"retry":3,"retryDelayMultiplier":2,"statusCodesToRetry":[[100,199],[408,408],[429,429],[500,599]],"timeOfFirstRequest":1758180869228,"totalTimeout":9007199254740991},"url":"https://tasks.googleapis.com/tasks/v1/lists/%40default/tasks?showCompleted=true&showDeleted=false&maxResults=100","userAgentDirectives":[{"comment":"gzip","product":"google-api-nodejs-client","version":"7.2.0"}]},"errors":[{"domain":"usageLimits","extendedHelp":"https://console.developers.google.com","message":"Google Tasks API has not been used in project 751923485641 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/tasks.googleapis.com/overview?project=751923485641 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry.","reason":"accessNotConfigured"}],"level":"error","message":"Error fetching Google Tasks: Google Tasks API has not been used in project 751923485641 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/tasks.googleapis.com/overview?project=751923485641 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry.","response":{"config":{"apiVersion":"","headers":{"Accept-Encoding":"gzip","Authorization":"<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.","User-Agent":"google-api-nodejs-client/7.2.0 (gzip)","x-goog-api-client":"gdcl/7.2.0 gl-node/22.11.0"},"method":"GET","params":{"maxResults":100,"showCompleted":true,"showDeleted":false},"responseType":"unknown","retry":true,"url":"https://tasks.googleapis.com/tasks/v1/lists/%40default/tasks?showCompleted=true&showDeleted=false&maxResults=100","userAgentDirectives":[{"comment":"gzip","product":"google-api-nodejs-client","version":"7.2.0"}]},"data":{"error":{"code":403,"details":[{"@type":"type.googleapis.com/google.rpc.ErrorInfo","domain":"googleapis.com","metadata":{"activationUrl":"https://console.developers.google.com/apis/api/tasks.googleapis.com/overview?project=751923485641","consumer":"projects/751923485641","containerInfo":"751923485641","service":"tasks.googleapis.com","serviceTitle":"Google Tasks API"},"reason":"SERVICE_DISABLED"},{"@type":"type.googleapis.com/google.rpc.LocalizedMessage","locale":"en-US","message":"Google Tasks API has not been used in project 751923485641 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/tasks.googleapis.com/overview?project=751923485641 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry."},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Google developers console API activation","url":"https://console.developers.google.com/apis/api/tasks.googleapis.com/overview?project=751923485641"}]}],"errors":[{"domain":"usageLimits","extendedHelp":"https://console.developers.google.com","message":"Google Tasks API has not been used in project 751923485641 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/tasks.googleapis.com/overview?project=751923485641 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry.","reason":"accessNotConfigured"}],"message":"Google Tasks API has not been used in project 751923485641 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/tasks.googleapis.com/overview?project=751923485641 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry.","status":"PERMISSION_DENIED"}},"headers":{"alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000","content-encoding":"gzip","content-type":"application/json; charset=UTF-8","date":"Thu, 18 Sep 2025 07:34:29 GMT","server":"ESF","transfer-encoding":"chunked","vary":"Origin, X-Origin, Referer","x-content-type-options":"nosniff","x-frame-options":"SAMEORIGIN","x-l2-request-path":"l2-managed-14","x-xss-protection":"0"},"request":{"responseURL":"https://tasks.googleapis.com/tasks/v1/lists/%40default/tasks?showCompleted=true&showDeleted=false&maxResults=100"},"status":403,"statusText":"Forbidden"},"service":"notion-google-tasks-sync","stack":"Error: Google Tasks API has not been used in project 751923485641 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/tasks.googleapis.com/overview?project=751923485641 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry.\n    at Gaxios._request (C:\\Users\\reyes\\Documents\\School\\Repositories\\sync-notion-with-gtasks\\node_modules\\gaxios\\build\\src\\gaxios.js:142:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async OAuth2Client.requestAsync (C:\\Users\\reyes\\Documents\\School\\Repositories\\sync-notion-with-gtasks\\node_modules\\google-auth-library\\build\\src\\auth\\oauth2client.js:429:18)\n    at async GoogleTasksService.getTasks (C:\\Users\\reyes\\Documents\\School\\Repositories\\sync-notion-with-gtasks\\src\\services\\googleTasksService.js:23:24)\n    at async Promise.all (index 1)","status":403,"timestamp":"2025-09-18T07:34:29.228Z"}
{"level":"error","message":"Error fetching Notion tasks: this.notion.databases.query is not a function","service":"notion-google-tasks-sync","stack":"TypeError: this.notion.databases.query is not a function\n    at NotionService.getTasks (C:\\Users\\reyes\\Documents\\School\\Repositories\\sync-notion-with-gtasks\\src\\services\\notionService.js:16:52)\n    at SyncService.performFullSync (C:\\Users\\reyes\\Documents\\School\\Repositories\\sync-notion-with-gtasks\\src\\services\\syncService.js:33:23)\n    at Timeout._onTimeout (C:\\Users\\reyes\\Documents\\School\\Repositories\\sync-notion-with-gtasks\\server.js:83:25)\n    at listOnTimeout (node:internal/timers:594:17)\n    at process.processTimers (node:internal/timers:529:7)","timestamp":"2025-09-18T07:46:18.845Z"}
{"level":"error","message":"Full sync failed: this.notion.databases.query is not a function","service":"notion-google-tasks-sync","stack":"TypeError: this.notion.databases.query is not a function\n    at NotionService.getTasks (C:\\Users\\reyes\\Documents\\School\\Repositories\\sync-notion-with-gtasks\\src\\services\\notionService.js:16:52)\n    at SyncService.performFullSync (C:\\Users\\reyes\\Documents\\School\\Repositories\\sync-notion-with-gtasks\\src\\services\\syncService.js:33:23)\n    at Timeout._onTimeout (C:\\Users\\reyes\\Documents\\School\\Repositories\\sync-notion-with-gtasks\\server.js:83:25)\n    at listOnTimeout (node:internal/timers:594:17)\n    at process.processTimers (node:internal/timers:529:7)","timestamp":"2025-09-18T07:46:18.887Z"}
{"level":"error","message":"Initial sync failed: this.notion.databases.query is not a function","service":"notion-google-tasks-sync","stack":"TypeError: this.notion.databases.query is not a function\n    at NotionService.getTasks (C:\\Users\\reyes\\Documents\\School\\Repositories\\sync-notion-with-gtasks\\src\\services\\notionService.js:16:52)\n    at SyncService.performFullSync (C:\\Users\\reyes\\Documents\\School\\Repositories\\sync-notion-with-gtasks\\src\\services\\syncService.js:33:23)\n    at Timeout._onTimeout (C:\\Users\\reyes\\Documents\\School\\Repositories\\sync-notion-with-gtasks\\server.js:83:25)\n    at listOnTimeout (node:internal/timers:594:17)\n    at process.processTimers (node:internal/timers:529:7)","timestamp":"2025-09-18T07:46:18.887Z"}
{"level":"error","message":"Error fetching Notion tasks: this.notion.databases.query is not a function","service":"notion-google-tasks-sync","stack":"TypeError: this.notion.databases.query is not a function\n    at NotionService.getTasks (C:\\Users\\reyes\\Documents\\School\\Repositories\\sync-notion-with-gtasks\\src\\services\\notionService.js:16:52)\n    at SyncService.performFullSync (C:\\Users\\reyes\\Documents\\School\\Repositories\\sync-notion-with-gtasks\\src\\services\\syncService.js:32:47)\n    at Timeout._onTimeout (C:\\Users\\reyes\\Documents\\School\\Repositories\\sync-notion-with-gtasks\\server.js:83:25)\n    at listOnTimeout (node:internal/timers:594:17)\n    at process.processTimers (node:internal/timers:529:7)","timestamp":"2025-09-18T07:47:47.242Z"}
{"level":"error","message":"Initial sync failed: this.notion.databases.query is not a function","service":"notion-google-tasks-sync","stack":"TypeError: this.notion.databases.query is not a function\n    at NotionService.getTasks (C:\\Users\\reyes\\Documents\\School\\Repositories\\sync-notion-with-gtasks\\src\\services\\notionService.js:16:52)\n    at SyncService.performFullSync (C:\\Users\\reyes\\Documents\\School\\Repositories\\sync-notion-with-gtasks\\src\\services\\syncService.js:32:47)\n    at Timeout._onTimeout (C:\\Users\\reyes\\Documents\\School\\Repositories\\sync-notion-with-gtasks\\server.js:83:25)\n    at listOnTimeout (node:internal/timers:594:17)\n    at process.processTimers (node:internal/timers:529:7)","timestamp":"2025-09-18T07:47:47.245Z"}
{"level":"error","message":"Error fetching Notion tasks: this.notion.databases.query is not a function","service":"notion-google-tasks-sync","stack":"TypeError: this.notion.databases.query is not a function\n    at NotionService.getTasks (C:\\Users\\reyes\\Documents\\School\\Repositories\\sync-notion-with-gtasks\\src\\services\\notionService.js:16:52)\n    at SyncService.performFullSync (C:\\Users\\reyes\\Documents\\School\\Repositories\\sync-notion-with-gtasks\\src\\services\\syncService.js:32:47)\n    at Timeout._onTimeout (C:\\Users\\reyes\\Documents\\School\\Repositories\\sync-notion-with-gtasks\\server.js:83:25)\n    at listOnTimeout (node:internal/timers:594:17)\n    at process.processTimers (node:internal/timers:529:7)","timestamp":"2025-09-18T07:48:15.393Z"}
{"level":"error","message":"Initial sync failed: this.notion.databases.query is not a function","service":"notion-google-tasks-sync","stack":"TypeError: this.notion.databases.query is not a function\n    at NotionService.getTasks (C:\\Users\\reyes\\Documents\\School\\Repositories\\sync-notion-with-gtasks\\src\\services\\notionService.js:16:52)\n    at SyncService.performFullSync (C:\\Users\\reyes\\Documents\\School\\Repositories\\sync-notion-with-gtasks\\src\\services\\syncService.js:32:47)\n    at Timeout._onTimeout (C:\\Users\\reyes\\Documents\\School\\Repositories\\sync-notion-with-gtasks\\server.js:83:25)\n    at listOnTimeout (node:internal/timers:594:17)\n    at process.processTimers (node:internal/timers:529:7)","timestamp":"2025-09-18T07:48:15.395Z"}
{"level":"error","message":"Error fetching Notion tasks: this.notion.databases.query is not a function","service":"notion-google-tasks-sync","stack":"TypeError: this.notion.databases.query is not a function\n    at NotionService.getTasks (C:\\Users\\reyes\\Documents\\School\\Repositories\\sync-notion-with-gtasks\\src\\services\\notionService.js:16:52)\n    at SyncService.performFullSync (C:\\Users\\reyes\\Documents\\School\\Repositories\\sync-notion-with-gtasks\\src\\services\\syncService.js:32:47)\n    at Timeout._onTimeout (C:\\Users\\reyes\\Documents\\School\\Repositories\\sync-notion-with-gtasks\\server.js:83:25)\n    at listOnTimeout (node:internal/timers:594:17)\n    at process.processTimers (node:internal/timers:529:7)","timestamp":"2025-09-18T07:49:49.051Z"}
{"level":"error","message":"Initial sync failed: this.notion.databases.query is not a function","service":"notion-google-tasks-sync","stack":"TypeError: this.notion.databases.query is not a function\n    at NotionService.getTasks (C:\\Users\\reyes\\Documents\\School\\Repositories\\sync-notion-with-gtasks\\src\\services\\notionService.js:16:52)\n    at SyncService.performFullSync (C:\\Users\\reyes\\Documents\\School\\Repositories\\sync-notion-with-gtasks\\src\\services\\syncService.js:32:47)\n    at Timeout._onTimeout (C:\\Users\\reyes\\Documents\\School\\Repositories\\sync-notion-with-gtasks\\server.js:83:25)\n    at listOnTimeout (node:internal/timers:594:17)\n    at process.processTimers (node:internal/timers:529:7)","timestamp":"2025-09-18T07:49:49.054Z"}
{"level":"error","message":"Error fetching Notion tasks: this.notion.databases.query is not a function","service":"notion-google-tasks-sync","stack":"TypeError: this.notion.databases.query is not a function\n    at NotionService.getTasks (C:\\Users\\reyes\\Documents\\School\\Repositories\\sync-notion-with-gtasks\\src\\services\\notionService.js:16:52)\n    at SyncService.performFullSync (C:\\Users\\reyes\\Documents\\School\\Repositories\\sync-notion-with-gtasks\\src\\services\\syncService.js:32:47)\n    at Timeout._onTimeout (C:\\Users\\reyes\\Documents\\School\\Repositories\\sync-notion-with-gtasks\\server.js:83:25)\n    at listOnTimeout (node:internal/timers:594:17)\n    at process.processTimers (node:internal/timers:529:7)","timestamp":"2025-09-18T07:52:33.602Z"}
{"level":"error","message":"Initial sync failed: this.notion.databases.query is not a function","service":"notion-google-tasks-sync","stack":"TypeError: this.notion.databases.query is not a function\n    at NotionService.getTasks (C:\\Users\\reyes\\Documents\\School\\Repositories\\sync-notion-with-gtasks\\src\\services\\notionService.js:16:52)\n    at SyncService.performFullSync (C:\\Users\\reyes\\Documents\\School\\Repositories\\sync-notion-with-gtasks\\src\\services\\syncService.js:32:47)\n    at Timeout._onTimeout (C:\\Users\\reyes\\Documents\\School\\Repositories\\sync-notion-with-gtasks\\server.js:83:25)\n    at listOnTimeout (node:internal/timers:594:17)\n    at process.processTimers (node:internal/timers:529:7)","timestamp":"2025-09-18T07:52:33.605Z"}
{"cause":{"code":"UND_ERR_CONNECT_TIMEOUT","name":"ConnectTimeoutError"},"level":"error","message":"❌ Scheduled sync failed: fetch failed","service":"notion-google-tasks-sync","stack":"TypeError: fetch failed\n    at node:internal/deps/undici/undici:13392:13\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Client.request (C:\\Users\\reyes\\Documents\\School\\Repositories\\sync-notion-with-gtasks\\node_modules\\@notionhq\\client\\build\\src\\Client.js:521:30)\n    at async NotionService.getTasks (C:\\Users\\reyes\\Documents\\School\\Repositories\\sync-notion-with-gtasks\\src\\services\\notionService.js:34:22)\n    at async Promise.all (index 0)\n    at async SyncService.performFullSync (C:\\Users\\reyes\\Documents\\School\\Repositories\\sync-notion-with-gtasks\\src\\services\\syncService.js:31:42)\n    at async Task._execution (C:\\Users\\reyes\\Documents\\School\\Repositories\\sync-notion-with-gtasks\\server.js:59:5)","timestamp":"2025-09-18T08:50:10.911Z"}
